int vSpeed = 255;
int turn_speed = 125;
int turn_delay = 10;
  
//L293 Connection
const int motorA1 = 4; //right
const int motorAspeed = 5;
const int motorB1 = 7; //left
const int motorBspeed = 6;

//Sensor Connection
const int left_sensor_pin = A0;
const int right_sensor_pin = A1;

int left_sensor_state;
int right_sensor_state;

void setup() {
  pinMode(motorA1, OUTPUT);
  pinMode(motorB1, OUTPUT);

  pinMode (right_sensor_pin, INPUT);
  pinMode (left_sensor_pin, INPUT);

  Serial.begin(9600);
  delay(3000);
}

/*void loop() {

  left_sensor_state = analogRead(left_sensor_pin);
  right_sensor_state = analogRead(right_sensor_pin);

  Serial.print ("Left : ");
  Serial.println (left_sensor_state);
  Serial.print ("Right : ");
  Serial.println (right_sensor_state);

  if(right_sensor_state > 500 && left_sensor_state < 500) {
    Serial.println("turning right");

    digitalWrite(motorA1, HIGH);                       
    digitalWrite (motorB1, LOW);
  
    analogWrite (motorAspeed, turn_speed);
    analogWrite (motorBspeed, vSpeed);

    delay (turn_delay);
  }
  
  if(right_sensor_state < 500 && left_sensor_state > 500) {
    Serial.println("turning left");
  
    digitalWrite (motorA1, LOW);
    digitalWrite (motorB1, HIGH);

    analogWrite (motorAspeed, vSpeed);
    analogWrite (motorBspeed, turn_speed);

    delay(turn_delay);
  }

  if(right_sensor_state > 500 && left_sensor_state > 500) {
    Serial.println("going forward");
  
    digitalWrite(motorA1, LOW);                       
    digitalWrite(motorB1, LOW);
  
    analogWrite (motorAspeed, vSpeed);
    analogWrite (motorBspeed, vSpeed);
  
    delay(turn_delay);  
  }

  if(right_sensor_state < 500 && left_sensor_state < 500){ 
    Serial.println("stop");
    
    analogWrite (motorAspeed, 0);
    analogWrite (motorBspeed, 0);
  }
}*/

void loop() {
  //forward
  Serial.println("going forward");

  digitalWrite(motorA1, LOW);                       
  digitalWrite(motorB1, LOW);

  analogWrite (motorAspeed, vSpeed);
  analogWrite (motorBspeed, vSpeed);

  delay(3000);

  //right
  Serial.println("turning right");

  digitalWrite(motorA1, HIGH);                       
  digitalWrite (motorB1, LOW);

  analogWrite (motorAspeed, turn_speed);
  analogWrite (motorBspeed, vSpeed);

  delay (3500);

  //forward
  Serial.println("going forward");

  digitalWrite(motorA1, LOW);                       
  digitalWrite(motorB1, LOW);

  analogWrite (motorAspeed, vSpeed);
  analogWrite (motorBspeed, vSpeed);

  delay(3000);
  
  //left
  Serial.println("turning left");

  digitalWrite (motorA1, LOW);
  digitalWrite (motorB1, HIGH);

  analogWrite (motorAspeed, vSpeed);
  analogWrite (motorBspeed, turn_speed);

  delay(3500);

  //forward
  Serial.println("going forward");

  digitalWrite(motorA1, LOW);                       
  digitalWrite(motorB1, LOW);

  analogWrite (motorAspeed, vSpeed);
  analogWrite (motorBspeed, vSpeed);

  delay(3000);
  
  Serial.println("stop");
  
  analogWrite (motorAspeed, 0);
  analogWrite (motorBspeed, 0);

  delay (1000);
}

